---
layout: post
title: The App-oriented UI Model and its Security Implications
date: '2011-05-21T20:17:00.001+02:00'
author: Joanna Rutkowska
tags:
- os security
- philosophical
- general
- qubes
modified_time: '2011-07-24T12:08:19.636+02:00'
blogger_id: tag:blogger.com,1999:blog-24586388.post-7354555212668635236
blogger_orig_url: http://theinvisiblethings.blogspot.com/2011/05/app-oriented-ui-model-and-its-security.html
---

<style type="text/css">p { margin-bottom: 0.08in; } </style>  <br /><div style="font-weight: normal; margin-bottom: 0in;">Most of the desktop OSes today, such as Windows or Mac, expose and encourage a <i>File-oriented UI model</i>. You pick a file in the file manager, click it, and then the file manager automagically determines the best app to handle the file, starts the app, and passes the file to it.</div><div style="font-weight: normal; margin-bottom: 0in;"><br /></div><div style="font-weight: normal; margin-bottom: 0in;">Back in the MS-DOS days we used a different model: an app-oriented model – you started an app first, e.g. Word Perfect, or Lotus 1-2-3, and then you opened a file from within the app (Norton Commander and similar programs somehow changed that later).</div><div style="font-weight: normal; margin-bottom: 0in;"><br /></div><div style="font-weight: normal; margin-bottom: 0in;">Interestingly this very same app-oriented model is now becoming popular again thanks to systems such as iOS and Android. There is no such thing as a global File Explorer or Finder on an iPad. Only the apps. One must first pick an app, and then it's the application's responsibility to expose an option for opening one of your “files”, if the app supports it (e.g. the calendar or task list apps would always open your default calendar or task list without asking for anything).</div><div style="font-weight: normal; margin-bottom: 0in;"><br /></div><div style="font-weight: normal; margin-bottom: 0in;">I actually like this app-oriented model a lot! It's much less confusing to the user. Just think about all those attacks in the past where an attacker could prepare a file with some innocently-looking extension but which in fact was an MZ executable. Or how many times people are not even aware which app they use! One might argue that user should not be distracted by such “unimportant” things as what app he or she uses for her work, but I disagree. Apparently Apple, and millions of iPhone and iPad users, disagree too.</div><div style="font-weight: normal; margin-bottom: 0in;"><br /></div><div style="margin-bottom: 0in;"><span style="font-weight: normal;">But the main reason why I like this app-oriented model is because it just fits greatly into the Security by Isolation philosophy.</span></div><div style="margin-bottom: 0in;"><br /></div><div style="margin-bottom: 0in;"><span style="font-weight: normal;">Just think about it: if it's possible to get users to consciously select an app, and we now know it is possible thanks to the millions of app-oriented devices sold, then it should be not much more difficult to get them to also consciously select the </span><i><span style="font-weight: normal;">domain </span></i><span style="font-weight: normal;">or </span><i><span style="font-weight: normal;">area</span></i><span style="font-weight: normal;">, such as “work”, or “personal”, which they wish to use. Just imagine that instead of one “Mail” app, you would have two apps (and two icons): “Mail Work”, and “Mail Personal”.</span></div><div style="margin-bottom: 0in;"><br /></div><div style="margin-bottom: 0in;"><span style="font-weight: normal;">There are some technicalities here – such as e.g. how to isolate apps between each other? Do we need to build another layer of isolation in a form of VMs to isolate “Mail Work” from “Mail Personal”, or should the (new) OSes and the (new) APIs be designed in such a way, that they were thin and secure, and allow for very good isolation between processes without using virtualization?</span></div><div style="margin-bottom: 0in;"><br /></div><div style="margin-bottom: 0in;"><span style="font-weight: normal;">In Qubes we must use this additional layer of abstraction (virtualization), because we want to use Linux apps (and in the future also Windows apps), and they require huge POSIX/X API (and Win32 API) to work correctly. And those APIs are not easily </span><i><span style="font-weight: normal;">isolate-able</span></i><span style="font-weight: normal;">. So we use VMs as “API providers”. Same with isolating networking drivers and stacks – we need Linux kernel API to get those drivers and stacks running, so that's why we use a Linux-based “NetVM” for isolating networking. For this </span>reason we expect users to explicitly define <i><span style="font-weight: normal;">domains</span></i><span style="font-weight: normal;">, such as “work”, “personal”, etc. This is because we cannot afford to run every single app in a separate AppVM (more precisely we cannot afford to create a working copy of this huge POSIX/X API for each app).</span></div><div style="margin-bottom: 0in;"><br /></div><div style="margin-bottom: 0in;"><span style="font-weight: normal;">But we could very well imagine a well constructed API for apps that would just be easily </span><i><span style="font-weight: normal;">isolate-able</span></i><span style="font-style: normal;"><span style="font-weight: normal;"> (</span></span><span style="font-weight: normal;">I'm not saying iOS or Android has such an API)</span><span style="font-style: normal;"><span style="font-weight: normal;">, and so there would be no need to define domains explicitly. Still, we would need a possibility to define more than one </span></span><i><span style="font-weight: normal;">instance</span></i><span style="font-style: normal;"><span style="font-weight: normal;"> of each app – such as the previously mentioned “Mail Work” and “Mail Personal”.</span></span></div><div style="margin-bottom: 0in;"><br /></div><div style="margin-bottom: 0in;"><br /></div><div style="margin-bottom: 0in;"><span style="font-weight: normal;">The app-oriented model seems to be the future. And so seems the Security by Isolation philosophy!</span></div>